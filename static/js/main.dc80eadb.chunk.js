(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{359:function(e,t,a){e.exports=a(749)},364:function(e,t,a){},721:function(e,t){},723:function(e,t){},735:function(e,t,a){e.exports=a.p+"static/media/solid.e66ef910.png"},736:function(e,t,a){e.exports=a.p+"static/media/liquid.38c9dc4a.jpg"},737:function(e,t,a){e.exports=a.p+"static/media/organic.50bbcdad.jpg"},738:function(e,t,a){e.exports=a.p+"static/media/hazardous.62ff95cd.jpg"},747:function(e,t,a){},749:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(27),r=a.n(i),l=(a(364),a(62)),c=a(63),s=a(66),m=a(64),u=a(67),d=a(750),p=a(752),g=a(79),h=a(13),f=a(171);f.initializeApp({apiKey:"AIzaSyBAWpr6BZ5dxh73dEIVI7NeQnXQ0OiQElo",authDomain:"smart-wastege.firebaseapp.com",databaseURL:"https://smart-wastege.firebaseio.com",projectId:"smart-wastege",storageBucket:"smart-wastege.appspot.com",messagingSenderId:"790855666642"});var b=f,E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a.login=a.login.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){var e=new b.auth.FacebookAuthProvider;b.auth().signInWithPopup(e).then(function(e){var t=e.user.toJSON();localStorage.setItem("user",JSON.stringify(t));var a={uid:t.uid,name:t.displayName,email:t.email||null,createdAt:t.createdAt,lastLoginAt:t.lastLoginAt};b.database().ref("users/".concat(t.uid)).set(a)}).catch(function(e){})}},{key:"render",value:function(){return o.a.createElement(h.b,{variant:"contained",color:"primary",onClick:this.login},"Signin with Facebook")}}]),t}(o.a.Component),v=a(81),k=Object(v.withScriptjs)(Object(v.withGoogleMap)(function(e){return o.a.createElement(v.GoogleMap,{defaultZoom:18,center:{lat:e.coords.latitude,lng:e.coords.longitude}},e.isMarkerShown&&e.coords&&o.a.createElement(v.Marker,{position:{lat:e.coords.latitude,lng:e.coords.longitude}}))})),x=a(32),y=a(284),S=a.n(y),w=a(283),O=a.n(w);a(707),a(709),a(733);function j(e){return o.a.createElement(h.k,Object.assign({direction:"up"},e))}var C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).submitReport=function(){var e=n.state,t=e.user,a=e.coords,o=e.catName,i=e.dataUri,r=e.phone,l=e.description;if(t){var c={user:t.name,catName:o,coords:a,image:i,phone:r,description:l};b.database().ref("/complaints/".concat(t.uid,"/")).push(c).then(function(){console.log("complaint is sent to the admin depart.\nThank You.")})}},n.getPosition=function(){navigator.geolocation.getCurrentPosition(function(e){n.setState({coords:{latitude:e.coords.latitude,longitude:e.coords.longitude}})})},n.handleClickOpen=function(e){n.setState({open:!0,catName:e})},n.handleClose=function(){n.setState({open:!1})},n.state={categories:[{name:"Solid Waste",image:a(735)},{name:"Liquid Waste",image:a(736)},{name:"Organic Waste",image:a(737)},{name:"Hazardous Waste",image:a(738)}],open:!1,catName:"",user:null,openCamera:!1,coords:{latitude:24.88385439601565,longitude:67.04778058545844},phone:"",description:"",dataUri:""},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onTakePhoto",value:function(e){console.log("takePhoto"),console.log(e),this.setState({dataUri:e})}},{key:"componentDidMount",value:function(){var e=this;this.getPosition(),b.auth().onAuthStateChanged(function(t){t?(e.setState({user:t}),b.database().ref("/users/".concat(t.uid)).once("value",function(e){console.log("USER IS AVAILABLE")})):(e.setState({user:null}),console.log("USER IS NOT AVAILABLE"))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.user,i=this.props.classes;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{style:{margin:"80px 3% 3% 3%"}},a.map(function(t,a){return o.a.createElement(h.c,{style:{maxWidth:345,display:"inline-block",margin:"1%"}},o.a.createElement(h.d,null,o.a.createElement(h.g,{component:"img",style:{objectFit:"cover"},height:"160",image:t.image,title:t.name}),o.a.createElement(h.f,null,o.a.createElement(h.n,{variant:"h6"},t.name))),o.a.createElement(h.e,null,o.a.createElement(h.b,{size:"small",color:"primary",onClick:function(){return e.handleClickOpen(t.name)}},"Report File")))})),o.a.createElement("div",null,o.a.createElement(h.h,{fullScreen:!0,open:this.state.open,onClose:this.handleClose,TransitionComponent:j},o.a.createElement(h.a,{className:i.appBar},o.a.createElement(h.m,null,o.a.createElement(h.i,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},o.a.createElement(S.a,null)),o.a.createElement(h.n,{variant:"h6",color:"inherit",className:i.flex},"Report File"))),o.a.createElement("div",{className:i.mainDiv},o.a.createElement("div",{className:i.infoDiv},o.a.createElement("div",null,o.a.createElement(h.l,{label:n?"":"Phone",id:"standard-name",className:i.textField,margin:"normal",value:n?n.name:"",disabled:!n}),o.a.createElement("br",null),o.a.createElement(h.l,{id:"standard-contact",label:"Phone",className:i.textField,onChnage:function(t){e.setState({phone:t.target.value})},margin:"normal"}),o.a.createElement("br",null),o.a.createElement(h.l,{id:"standard-email",label:"Description",className:i.textField,margin:"normal",onChnage:function(t){e.setState({description:t.target.value})}}),o.a.createElement("br",null),o.a.createElement(h.b,{variant:"contained",color:"primary",className:i.button,onClick:function(){e.setState({openCamera:!0})}},"Take Photo"),o.a.createElement(h.j,{open:this.state.openCamera},o.a.createElement("div",{style:{backgroundColor:"white",padding:"10px"}},o.a.createElement(h.b,{color:"secondary",variant:"contained",onClick:function(){e.setState({openCamera:!1})}},"Close"),o.a.createElement(O.a,{imageType:"IMAGE_TYPES.JPG",onTakePhoto:function(t){e.onTakePhoto(t)}}))),o.a.createElement(k,{coords:this.state.coords,isMarkerShown:!0,googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",loadingElement:o.a.createElement("div",{style:{height:"80%",width:"80%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"80%",width:"80%"}})})),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("div",null,o.a.createElement(h.b,{variant:"contained",color:"primary",className:i.button,style:{display:"inline"},onClick:this.submitReport},"Submit"))))))}}]),t}(n.Component),N=Object(x.withStyles)(function(e){return{appBar:{position:"relative"},flex:{flex:1},mainDiv:{marginLeft:8*e.spacing.unit,display:"flex",flex:1,flexDirection:"column"},imageDiv:{flex:1,marginTop:30,marginLeft:80,maxWidth:"300px",height:"200px",backgroundColor:"green"},infoDiv:{display:"flex",flex:1,flexDirection:"row"},mapDiv:{maxWidth:"700px",height:"300px",backgroundColor:"green"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},dense:{marginTop:19},menu:{width:200}}},{withTheme:!0})(C),A=Object(p.a)(function(e){return console.log("router++",e),o.a.createElement("div",null,o.a.createElement(d.a,{exact:!0,path:"/",component:E}),o.a.createElement(d.a,{exact:!0,path:"/userDashboard",component:N}))}),I=a(751),P=(a(747),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={user:JSON.parse(localStorage.getItem("user"))||null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state.user),o.a.createElement("div",{className:"App"},o.a.createElement(I.a,null,o.a.createElement(A,null)))}}],[{key:"getDerivedStateFromProps",value:function(){return{user:JSON.parse(localStorage.getItem("user"))}}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[359,2,1]]]);
//# sourceMappingURL=main.dc80eadb.chunk.js.map